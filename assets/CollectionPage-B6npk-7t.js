import{r as a,h as F,i as O,k as H,j as e,L as d,D as M,l as z,m as A,n as W,o as B,p as G}from"./index-BwKEMP-W.js";import{a as V,p as X,H as y,F as C}from"./Footer-C1Hnm4ZI.js";import{g as _}from"./collections-C3y9KQ1b.js";import{C as Y}from"./chevron-down-CVASKbkn.js";import{S as Z}from"./sparkles--64tx0Cj.js";import"./search-B-CftDQ5.js";import"./user-C8fTgGSI.js";import"./shopping-bag-Cz2DUBXx.js";const q="/assets/promo-badge-_S0-F345.png",J=["PP","P","M","G","GG"],K=["34","35","36","37","38","39","40","41","42","43"],Q=s=>s==="chinelos"?K:J,U=({product:s,showAddToCart:o=!0,priority:n=!1})=>{const{isInWishlist:h,toggleWishlist:l}=F(),{addToCart:m}=O(),r=h(s.id),[x,i]=a.useState(!1),[c,p]=a.useState(null),[b,j]=a.useState(0),[N,w]=a.useState(!1),v=a.useRef(0),k=a.useRef(0),f=a.useCallback(t=>t.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),[]),S=a.useCallback(t=>{t.preventDefault(),t.stopPropagation(),l(s)},[s,l]),P=a.useCallback(t=>{t.preventDefault(),t.stopPropagation(),p(null),i(!0)},[]),T=a.useCallback(t=>{p(t)},[]),$=a.useCallback(()=>{c&&(m(s,1),H.success(`${s.name} (${c}) adicionado à sacola!`),i(!1),p(null))},[m,s,c]),I=a.useCallback(t=>{v.current=t.touches[0].clientX},[]),E=a.useCallback(t=>{k.current=t.touches[0].clientX},[]),R=a.useCallback(()=>{const g=v.current-k.current;s.images&&s.images.length>1&&(g>50?j(u=>u<s.images.length-1?u+1:0):g<-50&&j(u=>u>0?u-1:s.images.length-1))},[s.images]),D=a.useCallback(()=>{w(!0)},[]),L=s.images&&s.images.length>0?s.images[b]:s.image;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative bg-background group",children:[e.jsx(d,{to:`/produto/${s.slug}`,className:"block",children:e.jsxs("div",{className:"relative aspect-[3/4] overflow-hidden bg-muted",onTouchStart:I,onTouchMove:E,onTouchEnd:R,children:[!N&&e.jsx("div",{className:"absolute inset-0 bg-muted animate-pulse"}),e.jsx("img",{src:L,alt:s.name,className:`w-full h-full object-cover transition-opacity duration-200 ${N?"opacity-100":"opacity-0"}`,loading:n?"eager":"lazy",decoding:"async",fetchPriority:n?"high":"auto",onLoad:D,width:300,height:400}),s.images&&s.images.length>1&&e.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1 md:hidden",children:s.images.slice(0,2).map((t,g)=>e.jsx("span",{className:`w-1.5 h-1.5 rounded-full transition-colors ${g===b?"bg-foreground":"bg-foreground/30"}`},g))}),s.discount>0&&e.jsxs("div",{className:"absolute top-1.5 left-1.5 flex flex-col items-start gap-0.5",children:[e.jsxs("span",{className:"px-1.5 py-0.5 bg-[#4eca65] text-white text-[7px] font-medium uppercase tracking-wider",children:[s.discount,"% off"]}),e.jsx("img",{src:q,alt:"Promo",className:"w-6 h-auto"})]}),e.jsx("button",{className:`absolute top-2 right-2 p-1 transition-all duration-300 ${r?"scale-110":"hover:scale-110"}`,onClick:S,"aria-label":r?"Remover dos favoritos":"Adicionar aos favoritos",children:e.jsx(V,{size:20,strokeWidth:1.5,className:`transition-colors duration-300 ${r?"fill-red-500 text-red-500":"text-gray-800"}`})})]})}),o&&e.jsx("button",{onClick:P,className:"w-full py-2 text-[10px] text-muted-foreground uppercase tracking-wider hover:text-foreground transition-colors text-center",children:"+ adicionar"}),e.jsx("div",{className:"pb-2",children:e.jsxs(d,{to:`/produto/${s.slug}`,className:"block",children:[e.jsx("h3",{className:"text-[12px] font-medium text-muted-foreground line-clamp-2 min-h-[36px] mb-2 leading-snug",children:s.name}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.discount>0&&e.jsx("span",{className:"text-[11px] text-muted-foreground line-through",children:f(s.originalPrice)}),e.jsx("span",{className:"text-sm font-semibold text-[#22c55e]",children:f(s.price)})]}),e.jsxs("span",{className:"block text-[10px] text-muted-foreground",children:["ou ",s.installments.count,"x de R$ ",s.installments.value.toFixed(2).replace(".",",")]})]})]})})]}),e.jsx(M,{open:x,onOpenChange:i,children:e.jsxs(z,{className:"sm:max-w-[360px] p-0 gap-0 bg-white border-0 shadow-xl",children:[e.jsx(A,{className:"p-4 border-b border-gray-100",children:e.jsx(W,{className:"text-sm font-medium uppercase tracking-wider text-center text-black",children:"Selecione o tamanho"})}),e.jsxs("div",{className:"p-4 bg-white",children:[e.jsxs("div",{className:"flex gap-3 mb-4 pb-4 border-b border-gray-100",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-16 h-20 object-cover"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-wider",children:s.brand}),e.jsx("h4",{className:"text-xs font-medium text-black line-clamp-2 mt-0.5",children:s.name}),e.jsx("p",{className:"text-sm font-semibold text-[#22c55e] mt-1",children:f(s.price)})]})]}),e.jsx("div",{className:`grid gap-2 mb-4 ${s.category==="chinelos","grid-cols-5"}`,children:Q(s.category).map(t=>e.jsx("button",{onClick:()=>T(t),className:`py-3 border text-xs font-medium transition-colors rounded-full ${c===t?"border-black bg-black text-white":"border-gray-200 text-black hover:border-black"}`,children:t},t))}),e.jsx("button",{onClick:$,disabled:!c,className:`w-full py-3 text-xs font-medium uppercase tracking-wider transition-colors rounded-full ${c?"bg-black text-white hover:bg-gray-800":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:c?"adicionar à sacola":"selecione um tamanho"})]})]})})]})},ee=a.memo(U),ce=()=>{const{slug:s}=B(),o=s?_(s):void 0,[n,h]=a.useState("relevance");a.useEffect(()=>{document.title=o?`${o.title} | VYRON`:"Coleção | VYRON"},[o]);const l=a.useMemo(()=>s?X.filter(r=>r.collection===s):[],[s]),m=a.useMemo(()=>{const r=[...l];return n==="price-asc"&&r.sort((x,i)=>x.price-i.price),n==="price-desc"&&r.sort((x,i)=>i.price-x.price),r},[l,n]);return o?e.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[e.jsx(y,{}),e.jsx("main",{className:"flex-1",children:e.jsxs("div",{className:"px-4 md:container md:mx-auto py-6 md:py-10",children:[e.jsxs("nav",{className:"flex items-center gap-1 text-[10px] text-muted-foreground uppercase tracking-wider mb-6",children:[e.jsx(d,{to:"/",className:"hover:text-foreground transition-colors",children:"Home"}),e.jsx("span",{children:"/"}),e.jsx(d,{to:"/collections",className:"hover:text-foreground transition-colors",children:"Coleções"}),e.jsx("span",{children:"/"}),e.jsx("span",{className:"text-foreground",children:o.title})]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-xl md:text-3xl font-display font-bold text-foreground uppercase tracking-tight",children:o.title}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:o.description})]}),l.length>0&&e.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-border",children:[e.jsxs("p",{className:"text-[10px] text-muted-foreground uppercase tracking-wider",children:[l.length," ",l.length===1?"produto":"produtos"]}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:n,onChange:r=>h(r.target.value),className:"appearance-none bg-transparent text-[10px] text-muted-foreground uppercase tracking-wider pr-5 cursor-pointer focus:outline-none",children:[e.jsx("option",{value:"relevance",children:"Relevância"}),e.jsx("option",{value:"price-asc",children:"Menor preço"}),e.jsx("option",{value:"price-desc",children:"Maior preço"})]}),e.jsx(Y,{size:12,className:"absolute right-0 top-1/2 -translate-y-1/2 text-muted-foreground pointer-events-none"})]})]}),m.length>0?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3 md:gap-6",children:m.map(r=>e.jsx(ee,{product:r,showAddToCart:!1},r.id))}):e.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[e.jsx(Z,{size:40,className:"text-muted-foreground/30 mb-4"}),e.jsx("p",{className:"text-base font-semibold text-foreground mb-1",children:"Em breve novos drops"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-6",children:"Estamos preparando produtos incríveis para esta coleção."}),e.jsxs(d,{to:"/",className:"inline-flex items-center gap-2 bg-primary text-primary-foreground px-6 py-3 rounded-full text-sm font-semibold uppercase tracking-wider hover:opacity-90 transition-opacity",children:[e.jsx(G,{size:16}),"Voltar para Home"]})]})]})}),e.jsx(C,{})]}):e.jsxs("div",{className:"min-h-screen flex flex-col bg-background",children:[e.jsx(y,{}),e.jsx("main",{className:"flex-1 flex items-center justify-center",children:e.jsxs("div",{className:"text-center px-4",children:[e.jsx("p",{className:"text-lg font-semibold text-foreground mb-2",children:"Coleção não encontrada"}),e.jsx(d,{to:"/collections",className:"text-sm text-muted-foreground underline",children:"Voltar para coleções"})]})}),e.jsx(C,{})]})};export{ce as default};
